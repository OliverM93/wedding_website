<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unsere Hochzeit</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.20.6/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
  <style>
    html { scroll-behavior: smooth; }
    body { margin: 0; margin-bottom: 5em; overflow-x: hidden; font-family: 'Roboto', sans-serif; color: #1a1a1a; line-height: 1.8; font-size: 20px; font-weight: 400; }
    h1, h2, h3, h4 { font-family: 'Dancing_Script', cursive; margin-bottom: 0.5em; }
    h2 { font-size: 2em; text-align: center; margin-bottom: 0.6em; letter-spacing: 0.5px; }
    h4 { font-size: 1.4em; text-align: center; margin-bottom: 0.6em; letter-spacing: 0.5px; }
    .hero {
      position: relative;
      background: url('../Bilder/image1.jpeg') no-repeat center top/cover;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      text-align: center;
    }
    .hero::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.4);
      z-index: 1;
    }
    .hero-text { position: relative; z-index: 2; }
    .hero h1 { font-family: 'Dancing_Script', cursive; font-size: 4em; margin: 0.2em 0; }
    .hero p { font-family: 'Roboto', sans-serif; font-size: 1.5em; margin-bottom: 1em; }
    .countdown { font-family: 'Roboto', sans-serif; font-size: 0.8em; margin-top: 1em; margin-bottom: 1em; font-weight: bold; color: #f7d1c5; letter-spacing: 1px; }
    .count-num { font-size: 1.8em; font-weight: bold; color: #d08a6b; margin: 0 0.1em; }
    .hero button {
      background: transparent;
      border: 2px solid white;
      padding: 10px 20px;
      color: white;
      font-size: 1em;
      font-family: 'Roboto', sans-serif;
      cursor: pointer;
      transition: background 0.3s, color 0.3s, transform 0.3s ease-in-out;
      margin-top: 1em;
    }
    .hero button:hover { background: white; color: #333; transform: scale(1.05); }
    .navbar {
      position: absolute;
      top: 0;
      width: 100%;
      display: flex;
      justify-content: center;
      padding: 20px 0;
      z-index: 2;
    }
    .nav-menu {
      list-style: none;
      display: flex;
      gap: 2em;
      margin: 0;
      margin-bottom: 2em;
      padding: 0;
    }
    .nav-menu li a {
      color: white;
      text-decoration: none;
      font-family: 'Roboto', sans-serif;
      font-weight: bold;
      font-size: 1.2em;
      transition: color 0.3s;
    }
    .nav-menu li a:hover { color: #f7d1c5; }
    .toast {
      visibility: hidden;
      min-width: 250px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 8px;
      padding: 16px;
      position: fixed;
      z-index: 9999;
      left: 50%;
      bottom: 40px;
      transform: translateX(-50%);
      font-size: 1.1em;
      opacity: 0;
      transition: opacity 0.5s, visibility 0.5s;
    }
    .toast.show { visibility: visible; opacity: 1; }
    .toast.success { background-color: #4BB543; }
    .toast.error { background-color: #d9534f; }
    .info-tooltip { position: relative; display: inline-block; margin-left: 6px; cursor: pointer; }
    .info-icon {
      display: inline-block;
      width: 18px;
      height: 18px;
      background: #4B1C2A;
      color: #FFF8E7;
      border-radius: 50%;
      text-align: center;
      font-size: 13px;
      line-height: 18px;
      font-style: normal;
      font-weight: bold;
      transition: background 0.2s;
    }
    .info-tooltip:hover .info-icon, .info-tooltip:focus .info-icon { background: #FFF8E7; color: #4B1C2A; }
    .tooltip-text {
      visibility: hidden;
      opacity: 0;
      width: 240px;
      background-color: #4B1C2A;
      color: #FFF8E7;
      text-align: left;
      border-radius: 6px;
      padding: 8px 12px;
      position: absolute;
      z-index: 10;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      transition: opacity 0.2s;
      font-size: 0.95em;
      pointer-events: none;
    }
    .info-tooltip:hover .tooltip-text, .info-tooltip:focus-within .tooltip-text { visibility: visible; opacity: 1; }
    select.dynamic-width { width: 150px; padding: 0.4em; transition: width 0.2s ease; }
    #select-measurer { position: absolute; visibility: hidden; white-space: nowrap; padding: 0.4em; }
    @keyframes wave {
      0% { d: path('M0,50 C360,100 1080,0 1440,50 L1440,100 L0,100 Z'); }
      50% { d: path('M0,50 C360,0 1080,100 1440,50 L1440,100 L0,100 Z'); }
      100% { d: path('M0,50 C360,100 1080,0 1440,50 L1440,100 L0,100 Z'); }
    }
    @media (max-width: 768px) {
      body { font-size: 16px; }
      .nav-menu {
        font-size: 0.8em;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 1.5em;
        justify-content: center;
        margin-bottom: 1.5em;
        margin-top: 0.5em;
      }
      .navbar { padding: 10px 0; }
      .hero-text { margin-top: 2em; }
      .hero h1 { font-size: 2.5em; }
      .hero p { font-size: 1.2em; }
      .hero button { width: 100%; padding: 14px 0; }
    }
    .anmeldung-highlight {
      animation: anmeldung-glow-pulse 2.5s infinite;
      border-radius: 12px;
      background: rgba(255, 255, 224, 0.08);
      transition: box-shadow 0.3s, background 0.3s;
      padding: 0.25em 1.2em;
    }
    @keyframes anmeldung-glow-pulse {
      0% { box-shadow: 0 0 0px 0px #ffe06644, 0 0 0 0 #ffe06622; }
      50% { box-shadow: 0 0 10px 4px #ffe06655, 0 0 18px 8px #ffe06622; }
      100% { box-shadow: 0 0 0px 0px #ffe06644, 0 0 0 0 #ffe06622; }
    }
  </style>
</head>
<body>
  <div id="toast" class="toast"></div>
  <header class="hero">
    <nav class="navbar">
      <ul class="nav-menu">
        <li><a href="#overview">Wir heiraten!</a></li>
        <li><a href="#anfahrt">Anfahrt & Unterkunft</a></li>
        <li><a href="#anmeldung" id="nav-anmeldung-link">Anmeldung</a></li>
        <li><a href="#gallery">Galerie</a></li>
      </ul>
    </nav>
    <div class="hero-text">
      <h1>Anna & Lars</h1>
      <p>Wir heiraten am 25. Juli 2026</p>
      <div id="countdown" class="countdown"></div>
      <a href="/termine.ics" download="termine.ics">
        <button class="calendar">Zum Kalender hinzufügen</button>
      </a>
    </div>
  </header>
  <div class="hero-overlay"></div>
  <div id="root"></div>
  <script type="text/babel">
    const { useEffect } = React;

    const Overview = () => (
      <section id="overview" className="bg-[#FFF8E7] text-[#4B1C2A] py-16 relative">
        <div className="max-w-3xl mx-auto px-4 text-center">
          <h2 className="text-4xl font-['Dancing_Script'] mb-8">„Überraschung!“ – Wir heiraten!</h2>
          <p className="text-lg font-['Roboto'] mb-4">
            Am 25. Juli 2026 feiern wir mit euch unsere Hochzeit im Herrenhaus Samow in MV. Wir planen ein großes und ausgelassenes Fest, das über das gesamte Wochenende um das Herrenhaus stattfinden wird.
          </p>
          <p className="text-lg font-['Roboto']">
            Vor der freien Trauung und großen Feier am Samstag, laden wir euch am 24. Juli zu einem entspannten Grillabend ein - zum Ankommen, Wiedersehen und Kennenlernen.
          </p>
        </div>
        <svg className="absolute bottom-0 w-full" viewBox="0 0 1440 100" preserveAspectRatio="none">
          <path d="M0,50 C360,100 1080,0 1440,50 L1440,100 L0,100 Z" className="fill-[#4B1C2A]" style={{ animation: 'wave 10s infinite linear' }} />
        </svg>
      </section>
    );

    const Anfahrt = () => (
      <section id="anfahrt" className="bg-[#4B1C2A] text-[#FFF8E7] py-16 relative">
        <div className="max-w-3xl mx-auto px-4 text-center">
          <h2 className="text-4xl font-['Dancing_Script'] mb-8">Anfahrt & Unterkunft</h2>
          <p className="text-lg font-['Roboto'] mb-4">Die Feier findet im Herrenhaus Samow statt: Samow 14, 17179 Behren-Lübchin</p>
          <div className="mb-4">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m range: 1m12!1m3!1d2345.094855568875!2d12.617404677268555!3d54.00109187248649!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47ac7b31e6686ef9%3A0x8b592991677302ee!2sHerrenhaus%20Samow%20-%20Marc%20Etienne%20Graf%20von%20Polier!5e0!3m2!1sde!2sde!4v1753462884886!5m2!1sde!2sde"
              width="100%"
              height="300"
              style={{ border: 0 }}
              allowFullScreen=""
              loading="lazy"
              referrerPolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
          <h4 className="text-2xl font-['Dancing_Script'] mb-4 text-[#FFF8E7]">Zur Unterkunft</h4>
          <p className="text-lg font-['Roboto'] mb-2">Es gibt verschiedene Möglichkeiten:</p>
          <p className="text-lg font-['Roboto']">‣ direkt im <b>Herrenhaus</b> (einfach ausgestattet, aber mitten im Geschehen),</p>
          <p className="text-lg font-['Roboto']">‣ im <b>Hotel</b> im Nachbarort, z.B. Mecklenburger Hof in Gnoien (Shuttle am Samstag wird organisiert),</p>
          <p className="text-lg font-['Roboto']">‣ oder mit <b>Zelt/Camper</b> vor Ort.</p>
          <p className="text-lg font-['Roboto'] mb-2">Die finale Koordination der Unterkünfte übernehmen wir.</p>
          <p className="text-lg font-['Roboto']"><b>Bitte gebt uns für die weitere Planung über diese Webseite bis zum 31. August 2025 eine Rückmeldung.</b></p>
        </div>
        <svg className="absolute bottom-0 w-full" viewBox="0 0 1440 100" preserveAspectRatio="none">
          <path d="M0,50 C360,100 1080,0 1440,50 L1440,100 L0,100 Z" className="fill-[#FFF8E7]" style={{ animation: 'wave 10s infinite linear' }} />
        </svg>
      </section>
    );

    const Anmeldung = () => {
      useEffect(() => {
        const textarea = document.getElementById("nachricht");
        const adjustTextareaHeight = () => {
          textarea.style.height = "auto";
          textarea.style.height = `${textarea.scrollHeight}px`;
        };
        textarea.addEventListener("input", adjustTextareaHeight);
        adjustTextareaHeight();
        return () => textarea.removeEventListener("input", adjustTextareaHeight);
      }, []);

      useEffect(() => {
        const form = document.getElementById("anmeldeformular");
        const handleSubmit = async (event) => {
          event.preventDefault();
          const formData = new FormData(form);
          try {
            const response = await fetch(form.action, {
              method: 'POST',
              body: formData,
            });
            const result = await response.json();
            showToast(result.success ? "Danke für deine Anmeldung!" : `Fehler: ${result.error || 'Unbekannter Fehler'}`, result.success ? "success" : "error");
            if (result.success) form.reset();
          } catch (error) {
            showToast("Fehler bei der Übermittlung. Bitte versuche es später erneut.", "error");
          }
        };
        form.addEventListener('submit', handleSubmit);
        return () => form.removeEventListener('submit', handleSubmit);
      }, []);

      useEffect(() => {
        const navAnmeldung = document.getElementById("nav-anmeldung-link");
        if (!localStorage.getItem("anmeldungHighlightSeen")) {
          navAnmeldung.classList.add("anmeldung-highlight");
          const handleClick = () => {
            navAnmeldung.classList.remove("anmeldung-highlight");
            localStorage.setItem("anmeldungHighlightSeen", "true");
          };
          navAnmeldung.addEventListener("click", handleClick);
          return () => navAnmeldung.removeEventListener("click", handleClick);
        }
      }, []);

      useEffect(() => {
        const measurer = document.getElementById("select-measurer");
        const adjustSelectWidth = (select) => {
          const selectedText = select.options[select.selectedIndex]?.text || '';
          measurer.textContent = selectedText;
          const style = getComputedStyle(select);
          measurer.style.font = style.font;
          measurer.style.padding = style.padding;
          const newWidth = measurer.offsetWidth + 40;
          select.style.width = `${newWidth}px`;
        };
        const selects = document.querySelectorAll("select.dynamic-width");
        selects.forEach(select => {
          select.addEventListener("change", () => adjustSelectWidth(select));
          if (select.selectedIndex > 0) adjustSelectWidth(select);
        });
        return () => selects.forEach(select => select.removeEventListener("change", () => adjustSelectWidth(select)));
      }, []);

      return (
        <section id="anmeldung" className="bg-[#FFF8E7] text-[#4B1C2A] py-16 relative">
          <div className="max-w-3xl mx-auto px-4 text-center">
            <h2 className="text-4xl font-['Dancing_Script'] mb-8">Anmeldung</h2>
            <form id="anmeldeformular" action="PHP/submit.php" method="POST" className="flex flex-col gap-4 max-w-lg mx-auto">
              <label htmlFor="name" className="text-lg font-['Roboto'] text-left">Name:</label>
              <input type="text" id="name" name="name" required className="p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30" />
              <label htmlFor="adresse" className="text-lg font-['Roboto'] text-left">Adresse:</label>
              <input type="text" id="adresse" name="adresse" required className="p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30" />
              <label htmlFor="telefon" className="text-lg font-['Roboto'] text-left">Telefon:</label>
              <input type="tel" id="telefon" name="telefon" required className="p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30" />
              <label htmlFor="email" className="text-lg font-['Roboto'] text-left">E-Mail:</label>
              <input type="email" id="email" name="email" required className="p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30" />
              <label htmlFor="teilnehmer" className="text-lg font-['Roboto'] text-left flex items-center">
                Begleitpersonen
                <span className="info-tooltip">
                  <span className="info-icon">i</span>
                  <span className="tooltip-text">Trage hier die Namen der Personen ein, die du mitbringst. Wenn du alleine kommst, lasse das Feld einfach leer.</span>
                </span>
              </label>
              <input type="text" id="teilnehmer" name="teilnehmer" placeholder="Namen der Begleitpersonen" className="p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30" />
              <label htmlFor="unterkunft" className="text-lg font-['Roboto'] text-left">Unterkunft:</label>
              <select id="unterkunft" name="unterkunft" required className="dynamic-width p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30">
                <option value="" disabled selected hidden></option>
                <option value="herrenhaus">Herrenhaus Samow (45€ pro Person/Nacht)</option>
                <option value="hotel">Hotel im Nachbarort (120€ pro Doppelzimmer/Nacht)</option>
                <option value="zelt">Ich reise mit Camper/Zelt an</option>
                <option value="selbstorganisation">Ich werde meine Unterbringung selbst organisieren/reise abends ab.</option>
              </select>
              <label htmlFor="anreisedatum" className="text-lg font-['Roboto'] text-left">Anreisedatum:</label>
              <select id="anreisedatum" name="anreisedatum" required className="dynamic-width p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30">
                <option value="" disabled selected hidden></option>
                <option value="24.07.2026">Freitag, 24. Juli 2026 zum Grillfest</option>
                <option value="25.07.2026">Samstag, 25. Juli 2026 zur Trauung</option>
                <option value="beide_tage">Samstag, 25. Juli 2026 zur Feier</option>
              </select>
              <label htmlFor="food-selection" className="text-lg font-['Roboto'] text-left">Essenswahl:</label>
              <select id="food-selection" name="food-selection" required className="dynamic-width p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30">
                <option value="" disabled selected hidden></option>
                <option value="omnivor">alles</option>
                <option value="veggie">Vegetarisch/Vegan</option>
              </select>
              <span id="select-measurer"></span>
              <label htmlFor="nachricht" className="text-lg font-['Roboto'] text-left">Nachricht:</label>
              <textarea id="nachricht" placeholder="Schreib uns eine Nachricht..." name="nachricht" className="p-2 border border-[#4B1C2A] rounded focus:border-[#4B1C2A] focus:ring-2 focus:ring-[#4B1C2A]/30 resize-vertical min-h-[150px]"></textarea>
              <input type="text" name="website" style={{ display: 'none' }} tabIndex="-1" autoComplete="off" />
              <input type="hidden" name="form_start" value={Math.floor(Date.now() / 1000)} />
              <button type="submit" className="bg-[#4B1C2A] text-[#FFF8E7] px-6 py-2 rounded hover:bg-[#FFF8E7] hover:text-[#4B1C2A] transition-transform transform hover:scale-105 w-fit mx-auto mt-4">Absenden</button>
            </form>
            <div id="form-message"></div>
          </div>
          <svg className="absolute bottom-0 w-full" viewBox="0 0 1440 100" preserveAspectRatio="none">
            <path d="M0,50 C360,100 1080,0 1440,50 L1440,100 L0,100 Z" className="fill-[#4B1C2A]" style={{ animation: 'wave 10s infinite linear' }} />
          </svg>
        </section>
      );
    };

    const Gallery = () => (
      <section id="gallery" className="bg-[#4B1C2A] text-[#FFF8E7] py-16">
        <div className="max-w-3xl mx-auto px-4 text-center">
          <h2 className="text-4xl font-['Dancing_Script'] mb-8">Unsere Galerie</h2>
          <p className="text-lg font-['Roboto'] mb-4">
            Die schönsten Momente unseres großen Tages und gemeinsame Erinnerungen findet ihr in unserer Galerie. Klickt einfach auf den Button, um alle Fotos anzusehen!
          </p>
          <p className="text-lg font-['Roboto'] mb-4">Ihr werdet sie kurz nach der Hochzeit hier einsehen können.</p>
          <a href="https://deine-cloud-galerie.de" target="_blank" className="bg-[#FFF8E7] text-[#4B1C2A] px-6 py-2 rounded hover:bg-[#4B1C2A] hover:text-[#FFF8E7] transition-transform transform hover:scale-105 inline-block">Zur Fotogalerie</a>
        </div>
      </section>
    );

    const App = () => {
      useEffect(() => {
        const updateCountdown = () => {
          const eventDate = new Date("2026-07-25T00:00:00");
          const now = new Date();
          const diff = eventDate - now;
          const countdownElement = document.getElementById("countdown");
          if (diff <= 0) {
            countdownElement.textContent = "Heute ist unser großer Tag!";
            return;
          }
          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          countdownElement.innerHTML = `Noch <span class="count-num">${days}</span> Tage `;
        };
        setInterval(updateCountdown, 1000);
        updateCountdown();
      }, []);

      return (
        <div>
          <Overview />
          <Anfahrt />
          <Anmeldung />
          <Gallery />
        </div>
      );
    };

    function showToast(message, type = "success") {
      const toast = document.getElementById("toast");
      if (!toast) return;
      toast.textContent = message;
      toast.className = `toast show ${type}`;
      setTimeout(() => toast.classList.remove('show', 'success', 'error'), 3500);
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>